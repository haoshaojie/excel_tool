{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\userAccount\\accountExportDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\userAccount\\accountExportDialog.vue","mtime":1618541026437},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { exportData } from \"@/api/contract/customer/orgcustomer\";\nimport qs from 'qs';\nvar PERSONAL_EXPORT_URL = \"/api/cnfic-contract-manage/personalaccount/export-personalaccount?\";\nvar ENTERPRISE_EXPORT_URL = \"/api/cnfic-contract-manage/enterpriseaccount/export-enterpriseaccount?\";\nexport default {\n  name: \"account-export-dialog\",\n  props: {\n    exportDialogFlag: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"enterprise\"\n    },\n    exportColumns: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  mounted: function mounted() {\n    for (var i = 0; i < this.columns.length; i++) {\n      this.column.push(this.columns[i].value);\n    }\n  },\n  data: function data() {\n    return {\n      form: {\n        exportField: [],\n        fieldName: [],\n        orderChecked: false,\n        contractChecked: false,\n        productChecked: false\n      },\n      checkAll: false,\n      isIndeterminate: true,\n      column: [],\n      columns: [{\n        label: '客户编码',\n        prop: 'custCode'\n      }, {\n        label: '客户名称',\n        prop: 'custName'\n      }, {\n        label: '上级单位',\n        prop: 'superUnitName'\n      }, {\n        label: '所属行业',\n        prop: 'custIndustryName'\n      }, {\n        label: '所属地域',\n        prop: 'regionName'\n      }, {\n        label: '客户类型',\n        prop: 'custTypeName'\n      }, {\n        label: '详细地址',\n        prop: 'custAddress'\n      }, {\n        label: '邮政编码',\n        prop: 'postcode'\n      }, {\n        label: '公司电话',\n        prop: 'comPhone'\n      }, {\n        label: '公司网址',\n        prop: 'comWebsite'\n      }, {\n        label: '客户状态',\n        prop: 'custStateName'\n      }]\n    };\n  },\n  created: function created() {\n    this.columns = this.exportColumns;\n    this.checkAll = false;\n    this.form = {\n      exportField: [],\n      fieldName: [],\n      orderChecked: false,\n      contractChecked: false,\n      productChecked: false\n    };\n  },\n  methods: {\n    cancelDialog: function cancelDialog() {\n      this.checkAll = false;\n      this.form = {\n        exportField: [],\n        orderChecked: false,\n        contractChecked: false,\n        productChecked: false\n      };\n      this.$emit('close');\n    },\n    exportData: function exportData() {\n      var form = this.form;\n      var checkFlag = false,\n          url = \"\";\n\n      if (this.type == 'personal') {\n        checkFlag = form.exportField.length == 0 && !form.orderChecked;\n        url = PERSONAL_EXPORT_URL;\n      } else {\n        checkFlag = form.exportField.length == 0 && !form.contractChecked && !form.productChecked;\n        url = ENTERPRISE_EXPORT_URL;\n      }\n\n      if (checkFlag) {\n        this.$message({\n          message: \"请选择要导出的列\",\n          type: \"error\"\n        });\n        return;\n      }\n\n      window.open(url + qs.stringify(this.form));\n      this.cancelDialog();\n    },\n    handleCheckAllChange: function handleCheckAllChange(val) {\n      console.log(\"this.form.exportField\", this.form.exportField);\n      this.form.exportField = val ? this.columns.map(function (item) {\n        return item.prop;\n      }) : [];\n      this.form.fieldName = val ? this.columns.map(function (item) {\n        return item.label;\n      }) : [];\n\n      if (val) {\n        this.form.orderChecked = true;\n        this.form.contractChecked = true;\n        this.form.productChecked = true;\n      } else {\n        this.form.orderChecked = false;\n        this.form.contractChecked = false;\n        this.form.productChecked = false;\n      }\n\n      this.isIndeterminate = false;\n    }\n  }\n};",{"version":3,"sources":["accountExportDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog\r\n    title=\"导出\"\r\n    :visible.sync=\"exportDialogFlag\"\r\n    width=\"80%\" center\r\n    @close=\"cancelDialog\">\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\">\r\n      <el-form-item label=\"导出信息选择\">\r\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        <div style=\"margin: 15px 0;\"></div>\r\n        <el-checkbox-group v-model=\"form.exportField\">\r\n          <el-checkbox v-for=\"item in columns\" :label=\"item.prop\" :key=\"item.prop\">{{item.label}}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-divider></el-divider>\r\n      <div v-if=\"type == 'personal'\">\r\n        <el-form-item>\r\n          <el-checkbox v-model=\"form.orderChecked\">订单信息</el-checkbox>\r\n        </el-form-item>\r\n      </div>\r\n      <div v-if=\"type=='enterprise'\">\r\n        <el-form-item>\r\n          <el-checkbox v-model=\"form.contractChecked\">合约信息（合约编码、合约名称、合约状态、合约起止时间）</el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-checkbox v-model=\"form.productChecked\">产品信息（账号访问产品权限列表）</el-checkbox>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"exportData\">确 定</el-button>\r\n      <el-button @click=\"cancelDialog\">取 消</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {exportData} from \"@/api/contract/customer/orgcustomer\";\r\nimport qs from 'qs'\r\n\r\nconst PERSONAL_EXPORT_URL = \"/api/cnfic-contract-manage/personalaccount/export-personalaccount?\";\r\nconst ENTERPRISE_EXPORT_URL = \"/api/cnfic-contract-manage/enterpriseaccount/export-enterpriseaccount?\";\r\n\r\nexport default {\r\n  name: \"account-export-dialog\",\r\n  props: {\r\n    exportDialogFlag: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"enterprise\",\r\n    },\r\n    exportColumns: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  mounted() {\r\n    for (let i = 0; i < this.columns.length; i++) {\r\n      this.column.push(this.columns[i].value);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        exportField: [],\r\n        fieldName: [],\r\n        orderChecked: false,\r\n        contractChecked: false,\r\n        productChecked: false,\r\n      },\r\n      checkAll: false,\r\n      isIndeterminate: true,\r\n      column: [],\r\n      columns: [\r\n        {\r\n          label: '客户编码',\r\n          prop: 'custCode'\r\n        }, {\r\n          label: '客户名称',\r\n          prop: 'custName'\r\n        }, {\r\n          label: '上级单位',\r\n          prop: 'superUnitName'\r\n        }, {\r\n          label: '所属行业',\r\n          prop: 'custIndustryName'\r\n        }, {\r\n          label: '所属地域',\r\n          prop: 'regionName'\r\n        }, {\r\n          label: '客户类型',\r\n          prop: 'custTypeName'\r\n        }, {\r\n          label: '详细地址',\r\n          prop: 'custAddress'\r\n        }, {\r\n          label: '邮政编码',\r\n          prop: 'postcode'\r\n        }, {\r\n          label: '公司电话',\r\n          prop: 'comPhone'\r\n        }, {\r\n          label: '公司网址',\r\n          prop: 'comWebsite'\r\n        }, {\r\n          label: '客户状态',\r\n          prop: 'custStateName'\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.columns = this.exportColumns;\r\n    this.checkAll = false;\r\n    this.form = {\r\n      exportField: [],\r\n      fieldName: [],\r\n      orderChecked: false,\r\n      contractChecked: false,\r\n      productChecked: false,\r\n    };\r\n  },\r\n  methods: {\r\n    cancelDialog() {\r\n      this.checkAll = false;\r\n      this.form = {\r\n        exportField: [],\r\n        orderChecked: false,\r\n        contractChecked: false,\r\n        productChecked: false,\r\n      };\r\n      this.$emit('close');\r\n    },\r\n    exportData() {\r\n      var form = this.form;\r\n      let checkFlag = false, url = \"\";\r\n      if (this.type == 'personal') {\r\n        checkFlag = form.exportField.length == 0 && !form.orderChecked;\r\n        url = PERSONAL_EXPORT_URL;\r\n      } else {\r\n        checkFlag = form.exportField.length == 0 && !form.contractChecked && !form.productChecked;\r\n        url = ENTERPRISE_EXPORT_URL;\r\n      }\r\n      if (checkFlag) {\r\n        this.$message({\r\n          message: \"请选择要导出的列\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n      window.open(url + qs.stringify(this.form));\r\n      this.cancelDialog();\r\n    },\r\n    handleCheckAllChange(val) {\r\n      console.log(\"this.form.exportField\", this.form.exportField)\r\n      this.form.exportField = val ? this.columns.map(item => item.prop) : [];\r\n      this.form.fieldName = val ? this.columns.map(item => item.label) : [];\r\n      if (val) {\r\n        this.form.orderChecked = true;\r\n        this.form.contractChecked = true;\r\n        this.form.productChecked = true;\r\n      } else {\r\n        this.form.orderChecked = false;\r\n        this.form.contractChecked = false;\r\n        this.form.productChecked = false;\r\n      }\r\n      this.isIndeterminate = false;\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/contract/userAccount"}]}
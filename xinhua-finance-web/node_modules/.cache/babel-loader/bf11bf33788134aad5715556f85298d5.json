{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\user\\info.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\user\\info.vue","mtime":1618367977466},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport option from \"@/const/user/info\";\nimport { getUserInfo, update, updatePassword } from \"@/api/system/user\";\nimport func from \"@/util/func\";\nexport default {\n  data: function data() {\n    return {\n      index: 0,\n      option: option,\n      form: {}\n    };\n  },\n  created: function created() {\n    this.handleWitch();\n  },\n  methods: {\n    handleSubmit: function handleSubmit(form, done) {\n      var _this = this;\n\n      if (this.index === 0) {\n        update(form).then(function (res) {\n          if (res.data.code == 200) {\n            _this.$message({\n              type: \"success\",\n              message: res.data.msg + \"，请重新登录!\"\n            }); //修改信息后需退出重新登录\n\n\n            _this.handleLogOut();\n          } else {\n            _this.$message({\n              type: \"error\",\n              message: res.data.msg\n            });\n          }\n\n          done();\n        }, function (error) {\n          window.console.log(error);\n          done();\n        });\n      } else {\n        updatePassword(form.oldPassword, form.newPassword, form.newPassword1).then(function (res) {\n          if (res.data.code == 200) {\n            _this.$message({\n              type: \"success\",\n              message: res.data.msg + \"，请重新登录!\"\n            }); //修改信息后需退出重新登录\n\n\n            _this.handleLogOut();\n          } else {\n            _this.$message({\n              type: \"error\",\n              message: res.data.msg\n            });\n          }\n\n          done();\n        }, function (error) {\n          window.console.log(error);\n          done();\n        });\n      }\n    },\n    handleLogOut: function handleLogOut() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.$store.dispatch(\"LogOut\").then(function () {\n          _this2.$router.push({\n            path: \"/login\"\n          });\n        });\n      }, 2000);\n    },\n    handleWitch: function handleWitch() {\n      var _this3 = this;\n\n      if (this.index === 0) {\n        getUserInfo().then(function (res) {\n          var user = res.data.data;\n          _this3.form = {\n            id: user.id,\n            avatar: user.avatar,\n            name: user.name,\n            realName: user.realName,\n            phone: user.phone,\n            email: user.email\n          };\n        });\n      }\n    },\n    handleTabClick: function handleTabClick(tabs) {\n      this.index = func.toInt(tabs.index);\n      this.handleWitch();\n    }\n  }\n};",{"version":3,"sources":["info.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <basic-container>\r\n      <avue-form :option=\"option\"\r\n                 v-model=\"form\"\r\n                 @tab-click=\"handleTabClick\"\r\n                 @submit=\"handleSubmit\"></avue-form>\r\n    </basic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport option from \"@/const/user/info\";\r\nimport {getUserInfo, update, updatePassword} from \"@/api/system/user\";\r\nimport func from \"@/util/func\";\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      index: 0,\r\n      option: option,\r\n      form: {}\r\n    };\r\n  },\r\n  created() {\r\n    this.handleWitch();\r\n  },\r\n  methods: {\r\n    handleSubmit(form, done) {\r\n      if (this.index === 0) {\r\n        update(form).then(res => {\r\n          if (res.data.code == 200) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: res.data.msg + \"，请重新登录!\"\r\n            });\r\n            //修改信息后需退出重新登录\r\n            this.handleLogOut();\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.data.msg\r\n            });\r\n          }\r\n          done();\r\n        }, error => {\r\n          window.console.log(error);\r\n          done();\r\n        })\r\n      } else {\r\n        updatePassword(form.oldPassword, form.newPassword, form.newPassword1).then(res => {\r\n          if (res.data.code == 200) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: res.data.msg + \"，请重新登录!\"\r\n            });\r\n            //修改信息后需退出重新登录\r\n            this.handleLogOut();\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.data.msg\r\n            });\r\n          }\r\n          done();\r\n        }, error => {\r\n          window.console.log(error);\r\n          done();\r\n        })\r\n      }\r\n    },\r\n    handleLogOut() {\r\n      setTimeout(() => {\r\n        this.$store.dispatch(\"LogOut\").then(() => {\r\n          this.$router.push({path: \"/login\"});\r\n        });\r\n      }, 2000);\r\n    },\r\n    handleWitch() {\r\n      if (this.index === 0) {\r\n        getUserInfo().then(res => {\r\n          const user = res.data.data;\r\n          this.form = {\r\n            id: user.id,\r\n            avatar: user.avatar,\r\n            name: user.name,\r\n            realName: user.realName,\r\n            phone: user.phone,\r\n            email: user.email,\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleTabClick(tabs) {\r\n      this.index = func.toInt(tabs.index);\r\n      this.handleWitch();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"sourceRoot":"src/views/user"}]}
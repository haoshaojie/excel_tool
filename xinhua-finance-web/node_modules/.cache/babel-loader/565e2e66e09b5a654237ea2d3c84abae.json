{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\customer\\customerExportDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\customer\\customerExportDialog.vue","mtime":1618367977439},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { exportData } from \"@/api/contract/customer/orgcustomer\";\nimport website from \"@/config/website\";\nimport { getToken } from '@/util/auth';\nimport qs from 'qs';\nexport default {\n  name: \"customer-export-dialog\",\n  props: {\n    exportDialogFlag: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted: function mounted() {\n    for (var i = 0; i < this.columns.length; i++) {\n      this.column.push(this.columns[i].value);\n    }\n  },\n  data: function data() {\n    return {\n      form: {\n        selectColumn: [],\n        customerManagementChecked: false,\n        linkmanInfoChecked: false,\n        contactInfoChecked: false,\n        userInfoChecked: false\n      },\n      checkAll: false,\n      isIndeterminate: true,\n      column: [],\n      columns: [{\n        name: '客户编码',\n        value: 'custCode'\n      }, {\n        name: '客户名称',\n        value: 'custName'\n      }, {\n        name: '上级单位',\n        value: 'superUnitName'\n      }, {\n        name: '所属行业',\n        value: 'custIndustryName'\n      }, {\n        name: '所属地域',\n        value: 'regionName'\n      }, {\n        name: '客户类型',\n        value: 'custTypeName'\n      }, {\n        name: '详细地址',\n        value: 'custAddress'\n      }, {\n        name: '邮政编码',\n        value: 'postcode'\n      }, {\n        name: '公司电话',\n        value: 'comPhone'\n      }, {\n        name: '公司网址',\n        value: 'comWebsite'\n      }, {\n        name: '客户状态',\n        value: 'custStateName'\n      }, {\n        name: '业务机会状态',\n        value: 'businessChanceName'\n      }, {\n        name: '业务描述',\n        value: 'businessDesc'\n      }, {\n        name: '创建人',\n        value: 'createUserName'\n      }, {\n        name: '创建时间',\n        value: 'originCreateTime'\n      }, {\n        name: '最后修改人',\n        value: 'updateUserName'\n      }, {\n        name: '最后修改时间',\n        value: 'originUpdateTime'\n      }]\n    };\n  },\n  methods: {\n    cancelDialog: function cancelDialog() {\n      this.$emit('cancel');\n    },\n    exportData: function exportData() {\n      var form = this.form;\n\n      if (form.selectColumn.length == 0 && !form.customerManagementChecked && !form.linkmanInfoChecked && !form.contactInfoChecked && !form.userInfoChecked) {\n        this.$message({\n          message: \"请选择要导出的列\",\n          type: \"error\"\n        });\n        return;\n      }\n\n      window.open(\"/api/cnfic-contract-manage/orgcustomer/export?\".concat(qs.stringify(this.form), \"&\").concat(website.tokenHeader, \"=\").concat(getToken()));\n      this.cancelDialog();\n    },\n    handleCheckAllChange: function handleCheckAllChange(val) {\n      this.form.selectColumn = val ? this.columns.map(function (item) {\n        return item.value;\n      }) : [];\n\n      if (val) {\n        this.form.customerManagementChecked = true;\n        this.form.linkmanInfoChecked = true;\n        this.form.contactInfoChecked = true;\n        this.form.userInfoChecked = true;\n      } else {\n        this.form.customerManagementChecked = false;\n        this.form.linkmanInfoChecked = false;\n        this.form.contactInfoChecked = false;\n        this.form.userInfoChecked = false;\n      }\n\n      this.isIndeterminate = false;\n    }\n  }\n};",{"version":3,"sources":["customerExportDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog\r\n    title=\"导出客户\"\r\n    :visible.sync=\"exportDialogFlag\"\r\n    width=\"80%\" center\r\n    @close=\"cancelDialog\">\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" >\r\n      <el-form-item label=\"导出信息选择\">\r\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        <div style=\"margin: 15px 0;\"></div>\r\n        <el-checkbox-group v-model=\"form.selectColumn\" >\r\n          <el-checkbox v-for=\"item in columns\" :label=\"item.value\" :key=\"item.value\">{{item.name}}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-divider></el-divider>\r\n      <el-form-item label=\"\">\r\n        <el-checkbox v-model=\"form.customerManagementChecked\" >客户管理活动（活动编码、活动类型、具体内容）</el-checkbox>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-checkbox v-model=\"form.linkmanInfoChecked\">联系人信息</el-checkbox>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-checkbox v-model=\"form.contactInfoChecked\">合约信息（客户下的合约信息）</el-checkbox>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-checkbox v-model=\"form.userInfoChecked\">用户信息（客户下的用户信息）</el-checkbox>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n  <el-button type=\"primary\" @click=\"exportData\">确 定</el-button>\r\n  <el-button @click=\"cancelDialog\">取 消</el-button>\r\n  </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import {exportData} from \"@/api/contract/customer/orgcustomer\";\r\n  import website from \"@/config/website\";\r\n  import {getToken} from '@/util/auth';\r\n  import qs from 'qs'\r\n  export default {\r\n    name: \"customer-export-dialog\",\r\n    props: {\r\n      exportDialogFlag: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    mounted() {\r\n      for (let i = 0; i < this.columns.length; i++) {\r\n        this.column.push(this.columns[i].value);\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        form:{\r\n          selectColumn: [],\r\n          customerManagementChecked:false,\r\n          linkmanInfoChecked:false,\r\n          contactInfoChecked:false,\r\n          userInfoChecked:false,\r\n        },\r\n        checkAll: false,\r\n        isIndeterminate: true,\r\n        column:[],\r\n        columns : [{\r\n          name:'客户编码',\r\n          value:'custCode'\r\n        },{\r\n          name:'客户名称',\r\n          value:'custName'\r\n        },{\r\n          name:'上级单位',\r\n          value:'superUnitName'\r\n        },{\r\n          name:'所属行业',\r\n          value:'custIndustryName'\r\n        },{\r\n          name:'所属地域',\r\n          value:'regionName'\r\n        },{\r\n          name:'客户类型',\r\n          value:'custTypeName'\r\n        },{\r\n          name:'详细地址',\r\n          value:'custAddress'\r\n        },{\r\n          name:'邮政编码',\r\n          value:'postcode'\r\n        },{\r\n          name:'公司电话',\r\n          value:'comPhone'\r\n        },{\r\n          name:'公司网址',\r\n          value:'comWebsite'\r\n        },{\r\n          name:'客户状态',\r\n          value:'custStateName'\r\n        },{\r\n          name:'业务机会状态',\r\n          value:'businessChanceName'\r\n        },{\r\n          name:'业务描述',\r\n          value:'businessDesc'\r\n        },{\r\n          name:'创建人',\r\n          value:'createUserName'\r\n        },{\r\n          name:'创建时间',\r\n          value:'originCreateTime'\r\n        },{\r\n          name:'最后修改人',\r\n          value:'updateUserName'\r\n        },{\r\n          name:'最后修改时间',\r\n          value:'originUpdateTime'\r\n        },\r\n\r\n        ],\r\n      };\r\n    },\r\n    methods: {\r\n      cancelDialog() {\r\n        this.$emit('cancel');\r\n      },\r\n      exportData(){\r\n          var form=this.form;\r\n        if (form.selectColumn.length==0&&!form.customerManagementChecked&&!form.linkmanInfoChecked&&!form.contactInfoChecked&&!form.userInfoChecked){\r\n          this.$message({\r\n            message: \"请选择要导出的列\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n        window.open(`/api/cnfic-contract-manage/orgcustomer/export?${qs.stringify(this.form)}&${website.tokenHeader}=${getToken()}`);\r\n        this.cancelDialog();\r\n      },\r\n      handleCheckAllChange(val) {\r\n        this.form.selectColumn = val ? this.columns.map(item => item.value): [];\r\n\r\n        if (val){\r\n          this.form.customerManagementChecked=true;\r\n          this.form.linkmanInfoChecked=true;\r\n          this.form.contactInfoChecked=true;\r\n          this.form.userInfoChecked=true;\r\n        } else {\r\n          this.form.customerManagementChecked=false;\r\n          this.form.linkmanInfoChecked=false;\r\n          this.form.contactInfoChecked=false;\r\n          this.form.userInfoChecked=false;\r\n        }\r\n        this.isIndeterminate = false;\r\n      },\r\n\r\n    }\r\n  };\r\n</script>\r\n"],"sourceRoot":"src/views/contract/customer"}]}
{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\contract\\components\\contractExportDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\contract\\components\\contractExportDialog.vue","mtime":1618891349837},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport website from \"@/config/website\";\nimport { getToken } from '@/util/auth';\nimport qs from 'qs';\nexport default {\n  name: \"customer-export-dialog\",\n  props: {\n    exportDialogFlag: {\n      type: Boolean,\n      default: false\n    },\n    searchCondition: {\n      type: Object\n    },\n    selectedRows: {\n      type: Object\n    }\n  },\n  mounted: function mounted() {\n    for (var i = 0; i < this.columns.length; i++) {\n      this.column.push(this.columns[i].value);\n    }\n  },\n  data: function data() {\n    return {\n      form: {\n        selectColumn: [],\n        linkmanInfoChecked: false,\n        contactInfoChecked: false,\n        userInfoChecked: false,\n        selectedRow: []\n      },\n      checkAll: false,\n      isIndeterminate: true,\n      column: [],\n      columns: [{\n        name: '合约编码',\n        value: 'conNo'\n      }, {\n        name: '合约名称',\n        value: 'conName'\n      }, {\n        name: '合约范围',\n        value: 'conLimit'\n      }, {\n        name: '合约类型',\n        value: 'conType'\n      }, {\n        name: '合约状态',\n        value: 'conState'\n      }, {\n        name: '所属部门',\n        value: 'deptId'\n      }, {\n        name: '客户编号',\n        value: 'custCode'\n      }, {\n        name: '客户名称',\n        value: 'custName'\n      }, {\n        name: '签约乙方',\n        value: 'conPartb'\n      }, {\n        name: '签约状态',\n        value: 'signState',\n        checked: true\n      }, {\n        name: '签约日期',\n        value: 'signDate'\n      }, {\n        name: '合约起始日期',\n        value: 'conStartTime'\n      }, {\n        name: '合约终止日期',\n        value: 'conEndTime'\n      }, {\n        name: '合约金额',\n        value: 'conAmount'\n      }, {\n        name: '合约当年期金额',\n        value: 'conCurrAmount'\n      }, {\n        name: '具体服务要求',\n        value: 'conDemand'\n      }, {\n        name: '创建人',\n        value: 'createUser'\n      }, {\n        name: '创建时间',\n        value: 'createTime'\n      }, {\n        name: '最后修改人',\n        value: 'updateUser'\n      }, {\n        name: '最后修改时间',\n        value: 'updateTime'\n      }]\n    };\n  },\n  methods: {\n    cancelDialog: function cancelDialog() {\n      this.$emit('cancel');\n    },\n    init: function init() {\n      // 组件初始化页面展示\n      this.form.selectColumn = ['conNo', 'conName', 'conType', 'conState', 'custCode', 'conPartb', 'custName'];\n      this.form.linkmanInfoChecked = false;\n      this.form.contactInfoChecked = false;\n      this.form.userInfoChecked = false;\n      this.checkAll = false; // 继承查询条件属性\n\n      for (var pro in this.searchCondition) {\n        if (this.searchCondition[pro] != null && this.searchCondition[pro] != undefined) {\n          if (!(pro.indexOf(\"$\") >= 0)) {\n            this.form[pro] = this.searchCondition[pro];\n          }\n        }\n      }\n\n      for (var id in this.selectedRows) {\n        this.form.selectedRow.push(id);\n      }\n    },\n    exportData: function exportData() {\n      var form = this.form;\n\n      if (form.selectColumn.length == 0 && !form.linkmanInfoChecked && !form.contactInfoChecked && !form.userInfoChecked) {\n        this.$message({\n          message: \"请选择要导出的列\",\n          type: \"error\"\n        });\n        return;\n      }\n\n      window.open(\"/api/cnfic-contract-manage/contract/export?\".concat(qs.stringify(this.form), \"&\").concat(website.tokenHeader, \"=\").concat(getToken()));\n      this.cancelDialog();\n    },\n    handleCheckAllChange: function handleCheckAllChange(val) {\n      this.form.selectColumn = val ? this.columns.map(function (item) {\n        return item.value;\n      }) : [];\n\n      if (val) {\n        this.form.linkmanInfoChecked = true;\n        this.form.contactInfoChecked = true;\n        this.form.userInfoChecked = true;\n      } else {\n        this.form.linkmanInfoChecked = false;\n        this.form.contactInfoChecked = false;\n        this.form.userInfoChecked = false;\n      }\n\n      this.isIndeterminate = false;\n    }\n  }\n};",{"version":3,"sources":["contractExportDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-dialog\n    title=\"导出\"\n    :visible.sync=\"exportDialogFlag\"\n    width=\"80%\"\n    @close=\"cancelDialog\"\n    @open=\"init\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" >\n      <el-form-item label=\"导出信息选择\">\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n        <div style=\"margin: 15px 0;\"></div>\n        <el-checkbox-group v-model=\"form.selectColumn\" >\n          <el-checkbox v-for=\"item in columns\" :label=\"item.value\" :key=\"item.value\" :checked=\"item.checked\">{{item.name}}</el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n      <el-divider></el-divider>\n      <el-form-item label=\"\">\n        <el-checkbox v-model=\"form.linkmanInfoChecked\">联系人信息</el-checkbox>\n      </el-form-item>\n      <el-form-item label=\"\">\n        <el-checkbox v-model=\"form.contactInfoChecked\">产品信息（合约下的合约信息）</el-checkbox>\n      </el-form-item>\n      <el-form-item label=\"\">\n        <el-checkbox v-model=\"form.userInfoChecked\">用户信息（合约下的用户信息）</el-checkbox>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n  <el-button type=\"primary\" @click=\"exportData\">确 定</el-button>\n  <el-button @click=\"cancelDialog\">取 消</el-button>\n  </span>\n  </el-dialog>\n</template>\n\n<script>\n  import website from \"@/config/website\";\n  import {getToken} from '@/util/auth';\n  import qs from 'qs'\n  export default {\n    name: \"customer-export-dialog\",\n    props: {\n      exportDialogFlag: {\n        type: Boolean,\n        default: false\n      },\n      searchCondition:{\n        type:Object\n      },\n      selectedRows:{\n        type:Object\n      }\n    },\n    mounted() {\n      for (let i = 0; i < this.columns.length; i++) {\n        this.column.push(this.columns[i].value);\n      }\n    },\n    data() {\n      return {\n        form:{\n          selectColumn: [],\n          linkmanInfoChecked:false,\n          contactInfoChecked:false,\n          userInfoChecked:false,\n          selectedRow:[]\n        },\n        checkAll: false,\n        isIndeterminate: true,\n        column:[],\n        columns : [{\n          name:'合约编码',\n          value:'conNo',\n        },{\n          name:'合约名称',\n          value:'conName',\n        },{\n          name:'合约范围',\n          value:'conLimit'\n        },{\n          name:'合约类型',\n          value:'conType',\n        },{\n          name:'合约状态',\n          value:'conState',\n        },{\n          name:'所属部门',\n          value:'deptId'\n        },{\n          name:'客户编号',\n          value:'custCode',\n        },{\n          name:'客户名称',\n          value:'custName',\n        },{\n          name:'签约乙方',\n          value:'conPartb',\n        },{\n          name:'签约状态',\n          value:'signState',\n          checked:true\n        },{\n          name:'签约日期',\n          value:'signDate'\n        },{\n          name:'合约起始日期',\n          value:'conStartTime'\n        },{\n          name:'合约终止日期',\n          value:'conEndTime'\n        },{\n          name:'合约金额',\n          value:'conAmount'\n        },{\n          name:'合约当年期金额',\n          value:'conCurrAmount'\n        },{\n          name:'具体服务要求',\n          value:'conDemand'\n        },{\n          name:'创建人',\n          value:'createUser'\n        },\n        {\n          name:'创建时间',\n          value:'createTime'\n        },\n        {\n          name:'最后修改人',\n          value:'updateUser'\n        },\n        {\n          name:'最后修改时间',\n          value:'updateTime'\n        },\n        ],\n      };\n    },\n    methods: {\n      cancelDialog() {\n        this.$emit('cancel');\n      },\n      init(){\n        // 组件初始化页面展示\n        this.form.selectColumn = ['conNo','conName','conType','conState','custCode','conPartb','custName'];\n        this.form.linkmanInfoChecked=false;\n        this.form.contactInfoChecked=false;\n        this.form.userInfoChecked=false;\n        this.checkAll=false;\n        // 继承查询条件属性\n        for (let pro in this.searchCondition) {\n          if(this.searchCondition[pro] != null && this.searchCondition[pro] != undefined) {\n            if(!(pro.indexOf(\"$\")>= 0)){\n                this.form[pro] = this.searchCondition[pro];\n            }\n          }\n        }\n        for(let id in this.selectedRows) {\n          this.form.selectedRow.push(id);\n        }\n      },\n      exportData(){\n        var form=this.form;\n        if (form.selectColumn.length==0&&!form.linkmanInfoChecked&&!form.contactInfoChecked&&!form.userInfoChecked){\n          this.$message({\n            message: \"请选择要导出的列\",\n            type: \"error\"\n          });\n          return;\n        }\n        window.open(`/api/cnfic-contract-manage/contract/export?${qs.stringify(this.form)}&${website.tokenHeader}=${getToken()}`);\n        this.cancelDialog();\n      },\n      handleCheckAllChange(val) {\n        this.form.selectColumn = val ? this.columns.map(item => item.value): [];\n        if (val){\n          this.form.linkmanInfoChecked=true;\n          this.form.contactInfoChecked=true;\n          this.form.userInfoChecked=true;\n        } else {\n          this.form.linkmanInfoChecked=false;\n          this.form.contactInfoChecked=false;\n          this.form.userInfoChecked=false;\n        }\n        this.isIndeterminate = false;\n      },\n\n    }\n  };\n</script>\n"],"sourceRoot":"src/views/contract/contract/components"}]}
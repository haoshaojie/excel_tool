{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\customer\\addEmailOrPhone.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\customer\\addEmailOrPhone.vue","mtime":1618367977437},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"addEmailOrPhone\",\n  props: {\n    email: \"\",\n    emailOrPhoneData: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      rules: [],\n      maxlength: 10,\n      addEmailOrPhoneDialogFlag: false,\n      title: \"\",\n      obj: {},\n      rowData: \"\",\n      dynamicValidateForm: {\n        domains: [{\n          value: ''\n        }]\n      }\n    };\n  },\n  methods: {\n    closeDialog: function closeDialog() {\n      this.addEmailOrPhoneDialogFlag = false;\n      this.resetForm(\"dynamicValidateForm\");\n      this.dynamicValidateForm = {\n        domains: []\n      };\n    },\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var arrValue = [];\n\n          _this.dynamicValidateForm.domains.forEach(function (item) {\n            arrValue.push(item.value);\n          });\n\n          for (var key in arrValue) {\n            if (arrValue[key] == \"\") {\n              arrValue.splice(key, 1);\n            }\n          }\n\n          _this.obj.label == \"联系方式\" ? _this.rowData.contactPhone = arrValue.join(\",\") : _this.rowData.contactEmail = arrValue.join(\",\");\n\n          _this.closeDialog();\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.dynamicValidateForm = {\n        domains: [{\n          value: ''\n        }]\n      }; // this.$refs[formName].resetFields();\n    },\n    removeDomain: function removeDomain(item) {\n      var index = this.dynamicValidateForm.domains.indexOf(item);\n\n      if (index !== -1) {\n        this.dynamicValidateForm.domains.splice(index, 1);\n      }\n    },\n    addDomain: function addDomain() {\n      this.dynamicValidateForm.domains.push({\n        value: '',\n        key: Date.now()\n      });\n    },\n    openType: function openType(column, row) {\n      var _this2 = this;\n\n      this.addEmailOrPhoneDialogFlag = true;\n      this.obj = column;\n      this.rowData = row;\n      this.title = \"\\u65B0\\u589E\".concat(this.obj.label);\n      this.dynamicValidateForm.domains = [];\n\n      if (column.label == '联系方式') {\n        row.contactPhone.split(\",\").forEach(function (item) {\n          _this2.dynamicValidateForm.domains.push({\n            value: item\n          });\n        });\n      } else {\n        row.contactEmail.split(\",\").forEach(function (item) {\n          _this2.dynamicValidateForm.domains.push({\n            value: item\n          });\n        });\n      } //验证\n\n\n      if (column.label == '联系方式') {\n        this.rules = [{\n          required: true,\n          message: \"\".concat(this.obj.label, \"\\u4E0D\\u80FD\\u4E3A\\u7A7A\"),\n          trigger: 'blur'\n        }];\n        this.maxlength = 20;\n      } else {\n        this.rules = [{\n          type: 'email',\n          message: '请输入正确的邮箱地址',\n          trigger: ['blur', 'change']\n        }, {\n          required: true,\n          message: \"\".concat(this.obj.label, \"\\u4E0D\\u80FD\\u4E3A\\u7A7A\"),\n          trigger: 'blur'\n        }];\n        this.maxlength = 50;\n      }\n    }\n  }\n};",{"version":3,"sources":["addEmailOrPhone.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    :visible.sync=\"addEmailOrPhoneDialogFlag\"\r\n    @close=\"closeDialog\"\r\n  >\r\n    <el-form :model=\"dynamicValidateForm\" ref=\"dynamicValidateForm\" label-width=\"100px\" >\r\n\r\n      <el-form-item\r\n        v-for=\"(domain, index) in dynamicValidateForm.domains\"\r\n        :label=\"obj.label\"\r\n        :key=\"domain.key\"\r\n        :prop=\"'domains.' + index + '.value'\"\r\n        :rules=\"rules\"\r\n      >\r\n        <el-col :span=\"11\">\r\n        <el-input  v-model=\"domain.value\" :maxlength=\"maxlength\" show-word-limit></el-input>\r\n        </el-col>\r\n        <el-col :span=\"1\"></el-col>\r\n        <el-col :span=\"10\">\r\n        <el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n        <el-button @click=\"addDomain\">新增{{obj.label}}</el-button>\r\n        <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"addEmailOrPhone\",\r\n    props: {\r\n      email:\"\",\r\n      emailOrPhoneData:{\r\n        type:Object,\r\n        default:()=>({})\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        rules:[],\r\n        maxlength:10,\r\n        addEmailOrPhoneDialogFlag:false,\r\n        title:\"\",\r\n        obj:{},\r\n        rowData:\"\",\r\n        dynamicValidateForm:{\r\n          domains: [{\r\n            value: ''\r\n          }],\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      closeDialog() {\r\n        this.addEmailOrPhoneDialogFlag=false;\r\n        this.resetForm(\"dynamicValidateForm\");\r\n        this.dynamicValidateForm={\r\n          domains: []\r\n        };\r\n      },\r\n      submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            var arrValue=[];\r\n            this.dynamicValidateForm.domains.forEach(item=>{\r\n              arrValue.push(item.value);\r\n            })\r\n            for (const key in arrValue) {\r\n              if(arrValue[key]==\"\"){\r\n                arrValue.splice(key,1);\r\n              }\r\n            }\r\n            this.obj.label==\"联系方式\"?this.rowData.contactPhone=arrValue.join(\",\"):this.rowData.contactEmail=arrValue.join(\",\");\r\n            this.closeDialog();\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.dynamicValidateForm={\r\n          domains: [{\r\n            value: ''\r\n          }]\r\n        };\r\n        // this.$refs[formName].resetFields();\r\n      },\r\n      removeDomain(item) {\r\n        var index = this.dynamicValidateForm.domains.indexOf(item)\r\n        if (index !== -1) {\r\n          this.dynamicValidateForm.domains.splice(index, 1)\r\n        }\r\n      },\r\n      addDomain() {\r\n        this.dynamicValidateForm.domains.push({\r\n          value: '',\r\n          key: Date.now()\r\n        });\r\n      },\r\n      openType(column,row){\r\n        this.addEmailOrPhoneDialogFlag=true;\r\n        this.obj=column;\r\n        this.rowData=row;\r\n        this.title=`新增${this.obj.label}`;\r\n        this.dynamicValidateForm.domains=[];\r\n        if (column.label=='联系方式'){\r\n          row.contactPhone.split(\",\").forEach(item=>{\r\n            this.dynamicValidateForm.domains.push({\r\n              value: item\r\n            });\r\n          })\r\n        }else {\r\n          row.contactEmail.split(\",\").forEach(item=>{\r\n            this.dynamicValidateForm.domains.push({\r\n              value: item\r\n            });\r\n          })\r\n        }\r\n        //验证\r\n        if (column.label=='联系方式'){\r\n          this.rules=[{\r\n            required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\r\n          }];\r\n          this.maxlength=20;\r\n        }else {\r\n          this.rules=[\r\n            { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\r\n            {\r\n              required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\r\n            }\r\n          ];\r\n          this.maxlength=50;\r\n        }\r\n\r\n      }\r\n    }\r\n    }\r\n\r\n</script>\r\n"],"sourceRoot":"src/views/contract/customer"}]}
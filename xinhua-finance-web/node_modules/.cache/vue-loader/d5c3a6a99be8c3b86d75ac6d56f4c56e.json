{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\user\\addEmailOrPhone.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\user\\addEmailOrPhone.vue","mtime":1618367977453},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"addEmailOrPhone\",\n  props: {\n    email:\"\",\n    addEmailOrPhoneDialogFlag: {\n      type: Boolean,\n      default: false\n    },\n    emailOrPhoneData:{\n      type:Object,\n      default:()=>({})\n    }\n  },\n  data(){\n    return {\n      title:\"\",\n      rules:[],\n      maxlength:10,\n      obj:{},\n      dynamicValidateForm:{\n        domains: [{\n          value: ''\n        }],\n      },\n    }\n  },\n  methods: {\n    closeDialog() {\n      this.dynamicValidateForm.domains=[{\n        value:''\n      }];\n      this.$emit(\"cancelEmailOrPhoneDialog\");\n    },\n    submitForm(formName) {\n\n\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          var arrValue=[];\n          this.dynamicValidateForm.domains.forEach(item=>{\n            arrValue.push(item.value);\n          })\n          this.obj.arrValue=arrValue.join(\",\");\n          this.$emit(\"accept\",this.obj)\n          this.closeDialog();\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.dynamicValidateForm.domains=[{\n        value:''\n      }];\n      // this.$refs[formName].resetFields();\n    },\n    removeDomain(item) {\n      var index = this.dynamicValidateForm.domains.indexOf(item)\n      if (index !== -1) {\n        this.dynamicValidateForm.domains.splice(index, 1)\n      }\n    },\n    addDomain() {\n      if (this.dynamicValidateForm.domains&&this.dynamicValidateForm.domains.length>4){\n        this.$message.warning(`最多添加5个${this.obj.label}`)\n        return;\n      }\n      this.dynamicValidateForm.domains.push({\n        value: '',\n        key: Date.now()\n      });\n    },\n    openType(data){\n      if (data.value){\n        this.dynamicValidateForm.domains=[];\n        data.value.split(\",\").forEach(item=>{\n          this.dynamicValidateForm.domains.push({\n            value:item,\n          });\n        })\n\n      }\n      this.obj=data;\n      this.title=`新增${this.obj.label}`;\n      if (data.label!='邮件'){\n        this.rules=[{\n          required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\n        }];\n        this.maxlength=20;\n      }else {\n        this.rules=[\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\n          {\n            required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\n          }\n        ];\n        this.maxlength=50;\n      }\n    }\n  }\n  }\n\n",{"version":3,"sources":["addEmailOrPhone.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEmailOrPhone.vue","sourceRoot":"src/views/contract/user","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"title\"\r\n    :visible.sync=\"addEmailOrPhoneDialogFlag\"\r\n    @close=\"closeDialog\"\r\n  >\r\n    <el-form :model=\"dynamicValidateForm\" ref=\"dynamicValidateForm\" label-width=\"100px\" >\r\n\r\n      <el-form-item\r\n        v-for=\"(domain, index) in dynamicValidateForm.domains\"\r\n        :label=\"obj.label\"\r\n        :key=\"domain.key\"\r\n        :prop=\"'domains.' + index + '.value'\"\r\n        :rules=\"rules\"\r\n      >\r\n        <el-col :span=\"11\">\r\n        <el-input  v-model=\"domain.value\" :maxlength=\"maxlength\" show-word-limit></el-input>\r\n        </el-col>\r\n        <el-col :span=\"1\"></el-col>\r\n        <el-col :span=\"10\">\r\n        <el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\r\n        </el-col>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n        <el-button @click=\"addDomain\">新增{{obj.label}}</el-button>\r\n        <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"addEmailOrPhone\",\r\n    props: {\r\n      email:\"\",\r\n      addEmailOrPhoneDialogFlag: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      emailOrPhoneData:{\r\n        type:Object,\r\n        default:()=>({})\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        title:\"\",\r\n        rules:[],\r\n        maxlength:10,\r\n        obj:{},\r\n        dynamicValidateForm:{\r\n          domains: [{\r\n            value: ''\r\n          }],\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      closeDialog() {\r\n        this.dynamicValidateForm.domains=[{\r\n          value:''\r\n        }];\r\n        this.$emit(\"cancelEmailOrPhoneDialog\");\r\n      },\r\n      submitForm(formName) {\r\n\r\n\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            var arrValue=[];\r\n            this.dynamicValidateForm.domains.forEach(item=>{\r\n              arrValue.push(item.value);\r\n            })\r\n            this.obj.arrValue=arrValue.join(\",\");\r\n            this.$emit(\"accept\",this.obj)\r\n            this.closeDialog();\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.dynamicValidateForm.domains=[{\r\n          value:''\r\n        }];\r\n        // this.$refs[formName].resetFields();\r\n      },\r\n      removeDomain(item) {\r\n        var index = this.dynamicValidateForm.domains.indexOf(item)\r\n        if (index !== -1) {\r\n          this.dynamicValidateForm.domains.splice(index, 1)\r\n        }\r\n      },\r\n      addDomain() {\r\n        if (this.dynamicValidateForm.domains&&this.dynamicValidateForm.domains.length>4){\r\n          this.$message.warning(`最多添加5个${this.obj.label}`)\r\n          return;\r\n        }\r\n        this.dynamicValidateForm.domains.push({\r\n          value: '',\r\n          key: Date.now()\r\n        });\r\n      },\r\n      openType(data){\r\n        if (data.value){\r\n          this.dynamicValidateForm.domains=[];\r\n          data.value.split(\",\").forEach(item=>{\r\n            this.dynamicValidateForm.domains.push({\r\n              value:item,\r\n            });\r\n          })\r\n\r\n        }\r\n        this.obj=data;\r\n        this.title=`新增${this.obj.label}`;\r\n        if (data.label!='邮件'){\r\n          this.rules=[{\r\n            required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\r\n          }];\r\n          this.maxlength=20;\r\n        }else {\r\n          this.rules=[\r\n            { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] },\r\n            {\r\n              required: true, message:`${this.obj.label}不能为空`, trigger: 'blur'\r\n            }\r\n          ];\r\n          this.maxlength=50;\r\n        }\r\n      }\r\n    }\r\n    }\r\n\r\n</script>\r\n"]}]}
{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\user\\exportUserDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\user\\exportUserDialog.vue","mtime":1618541026432},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {exportData} from \"@/api/contract/customer/orgcustomer\";\nimport website from \"@/config/website\";\nimport {getToken} from '@/util/auth';\nimport qs from 'qs'\nexport default {\n  name: \"export-user-dialog\",\n  props: {\n    exportDialogFlag: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted() {\n    for (let i = 0; i < this.columns.length; i++) {\n      this.column.push(this.columns[i].value);\n    }\n  },\n  data() {\n    return {\n      form:{\n        query:{},\n        selectColumn: [],\n        selectColumnAccount: [],\n        customerManagementChecked:false,\n        linkmanInfoChecked:false,\n        contactInfoChecked:false,\n        userInfoChecked:false,\n      },\n      checkAll: false,\n      isIndeterminate: false,\n      column:[],\n      columnsAccount:[\n        {\n          name:'是否生成账号',\n          value:'isCreateAccount'\n        },{\n          name:'用户账号',\n          value:'userAccount'\n        },{\n          name:'用户状态',\n          value:'userStatus'\n        },{\n          name:'账号状态',\n          value:'accountStatus'\n        }\n      ],\n      columns : [{\n        name:'用户编码',\n        value:'userNo'\n      },{\n        name:'姓名',\n        value:'userName'\n      },{\n        name:'性别',\n        value:'userSexName'\n      },{\n        name:'客户编码',\n        value:'custCode'\n      },{\n        name:'部门',\n        value:'custOrg'\n      },{\n        name:'用户类型',\n        value:'userTypeName'\n      },{\n        name:'用户描述',\n        value:'userDesc'\n      },{\n        name:'固定电话',\n        value:'userTele'\n      },{\n        name:'传真',\n        value:'userFax'\n      },{\n        name:'邮箱',\n        value:'userEmail'\n      },{\n        name:'手机号码',\n        value:'userPhone'\n      },{\n        name:'创建时间',\n        value:'originCreateTime'\n      },{\n        name:'创建人',\n        value:'createUserName'\n      },{\n        name:'最后修改时间',\n        value:'originUpdateTime'\n      },{\n        name:'最后修改人',\n        value:'updateUserName'\n      },{\n        name:'客户经理',\n        value:'custManagerName'\n      },{\n        name:'所属机构',\n        value:'custOrgName'\n      },\n\n      ],\n    };\n  },\n  methods: {\n    cancelDialog() {\n      this.$emit('cancel');\n    },\n    exportData(){\n      var concat = this.form.selectColumn.concat(this.form.selectColumnAccount);\n      if (concat.length==0){\n        this.$message({\n          message: \"请选择要导出的列\",\n          type: \"error\"\n        });\n        return;\n      }\n      this.form.column=concat;\n      Object.assign(this.form,this.query);\n      window.open(`/api/cnfic-contract-manage/orguser/export?${qs.stringify(this.form)}&${website.tokenHeader}=${getToken()}`);\n      this.cancelDialog();\n\n    },\n    handleCheckAllChange(val) {\n      this.form.selectColumnAccount = val ? this.columnsAccount.map(item => item.value) : []\n      this.form.selectColumn = val ? this.columns.map(item => item.value): [];\n      this.isIndeterminate = false;\n    },\n    accept(val){\n      this.query=val;\n    }\n  }\n};\n",{"version":3,"sources":["exportUserDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"exportUserDialog.vue","sourceRoot":"src/views/contract/user","sourcesContent":["<template>\r\n  <el-dialog\r\n    title=\"导出机构用户\"\r\n    :visible.sync=\"exportDialogFlag\"\r\n    width=\"60%\" center\r\n    @close=\"cancelDialog\">\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" >\r\n      <el-form-item label=\"导出信息选择\">\r\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        <div style=\"margin: 15px 0;\"></div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-checkbox-group v-model=\"form.selectColumn\" >\r\n          <el-checkbox v-for=\"item in columns\" :label=\"item.value\" :key=\"item.value\">{{item.name}}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-divider></el-divider>\r\n      <el-form-item label=\"\">\r\n        <el-checkbox-group v-model=\"form.selectColumnAccount\" >\r\n          <el-checkbox v-for=\"item in columnsAccount\" :label=\"item.value\" :key=\"item.value\">{{item.name}}</el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n  <el-button type=\"primary\" @click=\"exportData\">确 定</el-button>\r\n  <el-button @click=\"cancelDialog\">取 消</el-button>\r\n  </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import {exportData} from \"@/api/contract/customer/orgcustomer\";\r\n  import website from \"@/config/website\";\r\n  import {getToken} from '@/util/auth';\r\n  import qs from 'qs'\r\n  export default {\r\n    name: \"export-user-dialog\",\r\n    props: {\r\n      exportDialogFlag: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    mounted() {\r\n      for (let i = 0; i < this.columns.length; i++) {\r\n        this.column.push(this.columns[i].value);\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        form:{\r\n          query:{},\r\n          selectColumn: [],\r\n          selectColumnAccount: [],\r\n          customerManagementChecked:false,\r\n          linkmanInfoChecked:false,\r\n          contactInfoChecked:false,\r\n          userInfoChecked:false,\r\n        },\r\n        checkAll: false,\r\n        isIndeterminate: false,\r\n        column:[],\r\n        columnsAccount:[\r\n          {\r\n            name:'是否生成账号',\r\n            value:'isCreateAccount'\r\n          },{\r\n            name:'用户账号',\r\n            value:'userAccount'\r\n          },{\r\n            name:'用户状态',\r\n            value:'userStatus'\r\n          },{\r\n            name:'账号状态',\r\n            value:'accountStatus'\r\n          }\r\n        ],\r\n        columns : [{\r\n          name:'用户编码',\r\n          value:'userNo'\r\n        },{\r\n          name:'姓名',\r\n          value:'userName'\r\n        },{\r\n          name:'性别',\r\n          value:'userSexName'\r\n        },{\r\n          name:'客户编码',\r\n          value:'custCode'\r\n        },{\r\n          name:'部门',\r\n          value:'custOrg'\r\n        },{\r\n          name:'用户类型',\r\n          value:'userTypeName'\r\n        },{\r\n          name:'用户描述',\r\n          value:'userDesc'\r\n        },{\r\n          name:'固定电话',\r\n          value:'userTele'\r\n        },{\r\n          name:'传真',\r\n          value:'userFax'\r\n        },{\r\n          name:'邮箱',\r\n          value:'userEmail'\r\n        },{\r\n          name:'手机号码',\r\n          value:'userPhone'\r\n        },{\r\n          name:'创建时间',\r\n          value:'originCreateTime'\r\n        },{\r\n          name:'创建人',\r\n          value:'createUserName'\r\n        },{\r\n          name:'最后修改时间',\r\n          value:'originUpdateTime'\r\n        },{\r\n          name:'最后修改人',\r\n          value:'updateUserName'\r\n        },{\r\n          name:'客户经理',\r\n          value:'custManagerName'\r\n        },{\r\n          name:'所属机构',\r\n          value:'custOrgName'\r\n        },\r\n\r\n        ],\r\n      };\r\n    },\r\n    methods: {\r\n      cancelDialog() {\r\n        this.$emit('cancel');\r\n      },\r\n      exportData(){\r\n        var concat = this.form.selectColumn.concat(this.form.selectColumnAccount);\r\n        if (concat.length==0){\r\n          this.$message({\r\n            message: \"请选择要导出的列\",\r\n            type: \"error\"\r\n          });\r\n          return;\r\n        }\r\n        this.form.column=concat;\r\n        Object.assign(this.form,this.query);\r\n        window.open(`/api/cnfic-contract-manage/orguser/export?${qs.stringify(this.form)}&${website.tokenHeader}=${getToken()}`);\r\n        this.cancelDialog();\r\n\r\n      },\r\n      handleCheckAllChange(val) {\r\n        this.form.selectColumnAccount = val ? this.columnsAccount.map(item => item.value) : []\r\n        this.form.selectColumn = val ? this.columns.map(item => item.value): [];\r\n        this.isIndeterminate = false;\r\n      },\r\n      accept(val){\r\n        this.query=val;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n"]}]}
{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\userAccount\\personalAccountDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\userAccount\\personalAccountDetail.vue","mtime":1618541026440},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {getUserDetail, listOrder} from \"@/api/contract/userAccount/personaluser\";\r\n\r\nexport default {\r\n  name: \"personal-account-detail\",\r\n  props: {\r\n    personalAccountDetail: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: \"basic\",\r\n      loading: true,\r\n      productDialog: false,\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 1\r\n      },\r\n      option: {\r\n        addBtn: false,\r\n        editBtn: false,\r\n        delBtn: false,\r\n        refreshBtn: false,\r\n        columnBtn: false,\r\n        header: false,\r\n        border: true,\r\n        menu: false,\r\n        column: [\r\n          {\r\n            label: '订单号',\r\n            prop: 'orderNo'\r\n          },\r\n          {\r\n            label: '商品名称',\r\n            prop: 'goodsName'\r\n          },\r\n          {\r\n            label: '订购时间',\r\n            prop: 'expiredDate',\r\n            type: 'date',\r\n            format: 'yyyy-MM-dd',\r\n            valueFormat: 'yyyy-MM-dd'\r\n          },\r\n          {\r\n            label: '到期时间',\r\n            prop: 'orderTime',\r\n            type: 'date',\r\n            format: 'yyyy-MM-dd',\r\n            valueFormat: 'yyyy-MM-dd'\r\n          }\r\n        ]\r\n      },\r\n      data: [\r\n        {\r\n          orderCode: \"2020091817200001\",\r\n          productName: \"一年会员\",\r\n          orderTime: \"2020-09-18 17:20\",\r\n          endTime: \"2021-09-18 17:20\"\r\n        }\r\n      ],\r\n      personalUserDetail: {},\r\n    }\r\n  },\r\n  watch: {\r\n    personalAccountDetail: {\r\n      handler: function (newVal, oldVal) {\r\n        this.page = {\r\n          pageSize: 10,\r\n          currentPage: 1,\r\n          total: 0\r\n        };\r\n        this.orderPageQuery(this.page);\r\n        this.userDetailQuery();\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    currentChange(currentPage) {\r\n      this.page.currentPage = currentPage;\r\n    },\r\n    sizeChange(pageSize) {\r\n      this.page.pageSize = pageSize;\r\n    },\r\n    userDetailQuery() {\r\n      getUserDetail(this.personalAccountDetail.accId).then(res => {\r\n        this.personalUserDetail = res.data.data;\r\n      }, error => {\r\n        window.console.log(error);\r\n      });\r\n    },\r\n    orderPageQuery(page) {\r\n      this.loading = true;\r\n      listOrder(page.currentPage, page.pageSize, this.personalAccountDetail.userPhone, this.personalAccountDetail.userEmail).then(res => {\r\n        const data = res.data.data;\r\n        this.page.total = data.total;\r\n        this.data = data.records;\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["personalAccountDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"personalAccountDetail.vue","sourceRoot":"src/views/contract/userAccount","sourcesContent":["<!--个人账号详情-->\r\n<template>\r\n  <basic-container>\r\n    <el-tabs v-model=\"activeTab\">\r\n      <el-tab-pane label=\"基本信息\" name=\"basic\">\r\n        <div class=\"el-table-title\">账号信息</div>\r\n        <table class=\"el-basic-detail\">\r\n          <tr>\r\n            <td>邮箱</td>\r\n            <td colspan=\"3\">{{personalAccountDetail.userEmail}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>手机号码</td>\r\n            <td>{{personalAccountDetail.userPhone}}</td>\r\n            <td>姓名</td>\r\n            <td>{{personalAccountDetail.userName}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>实名认证</td>\r\n            <td>{{personalAccountDetail.RealNameAuth == 0?\"未认证\":\"已认证\" }}</td>\r\n            <td>人脸识别</td>\r\n            <td>{{personalAccountDetail.faceRecognition==0?\"未认证\":\"已认证\"}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>邀请码</td>\r\n            <td colspan=\"3\">{{personalAccountDetail.inviteCode}}</td>\r\n          </tr>\r\n        </table>\r\n        <div class=\"el-table-title\">其他信息</div>\r\n        <table class=\"el-basic-detail\">\r\n          <tr>\r\n            <td>注册时间</td>\r\n            <td>{{personalAccountDetail.createTime}}</td>\r\n            <td>注册渠道</td>\r\n            <td>\r\n              {{personalAccountDetail.regAppChannelType == 1?\"电脑web\":\"\"}}\r\n              {{personalAccountDetail.regAppChannelType == 2?\"手机app\":\"\"}}\r\n              {{personalAccountDetail.regAppChannelType == 3?\"h5端\":\"\"}}\r\n              {{personalAccountDetail.regAppChannelType == 4?\"其他\":\"\"}}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>是否邀请注册</td>\r\n            <td>{{personalAccountDetail.isInvited==0?\"否\":\"是\"}}</td>\r\n            <td>邀请人</td>\r\n            <td>{{personalAccountDetail.inviter}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>账号状态</td>\r\n            <td>\r\n              {{personalAccountDetail.accStatus ==1?\"正常\":\"\"}}\r\n              {{personalAccountDetail.accStatus ==2?\"锁定\":\"\"}}\r\n              {{personalAccountDetail.accStatus ==3?\"删除\":\"\"}}\r\n            </td>\r\n            <td>账号锁定原因</td>\r\n            <td>{{personalAccountDetail.lockReason}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>最后修改时间</td>\r\n            <td>{{personalAccountDetail.updateTime}}</td>\r\n            <td>最后修改人</td>\r\n            <td>{{personalAccountDetail.updatePerson}}</td>\r\n          </tr>\r\n        </table>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"订单信息\" name=\"orderInfo\">\r\n        <avue-crud\r\n          :table-loading=\"loading\"\r\n          :option=\"option\"\r\n          :data=\"data\"\r\n          :page.sync=\"page\"\r\n          @current-change=\"currentChange\"\r\n          @size-change=\"sizeChange\"\r\n          @on-load=\"orderPageQuery\"\r\n        ></avue-crud>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"用户信息\" name=\"userInfo\">\r\n        <table class=\"el-basic-detail\">\r\n          <tr>\r\n            <td>用户编码</td>\r\n            <td>{{personalUserDetail.userNo}}</td>\r\n            <td>用户昵称</td>\r\n            <td>{{personalUserDetail.userNickname}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>手机号码</td>\r\n            <td>{{personalUserDetail.userPhone}}</td>\r\n            <td>邮箱</td>\r\n            <td>{{personalUserDetail.userEmail}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>姓名</td>\r\n            <td>{{personalUserDetail.userName}}</td>\r\n            <td>出生年月</td>\r\n            <td>{{personalUserDetail.userBirthday}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>注册渠道</td>\r\n            <td>{{personalUserDetail.registChannel}}</td>\r\n            <td>注册时间</td>\r\n            <td>{{personalUserDetail.registerTime}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>最后修改人</td>\r\n            <td>{{personalUserDetail.updateUserName}}</td>\r\n            <td>最后修改时间</td>\r\n            <td>{{personalUserDetail.updateTime}}</td>\r\n          </tr>\r\n        </table>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </basic-container>\r\n</template>\r\n<script>\r\nimport {getUserDetail, listOrder} from \"@/api/contract/userAccount/personaluser\";\r\n\r\nexport default {\r\n  name: \"personal-account-detail\",\r\n  props: {\r\n    personalAccountDetail: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: \"basic\",\r\n      loading: true,\r\n      productDialog: false,\r\n      page: {\r\n        pageSize: 10,\r\n        currentPage: 1,\r\n        total: 1\r\n      },\r\n      option: {\r\n        addBtn: false,\r\n        editBtn: false,\r\n        delBtn: false,\r\n        refreshBtn: false,\r\n        columnBtn: false,\r\n        header: false,\r\n        border: true,\r\n        menu: false,\r\n        column: [\r\n          {\r\n            label: '订单号',\r\n            prop: 'orderNo'\r\n          },\r\n          {\r\n            label: '商品名称',\r\n            prop: 'goodsName'\r\n          },\r\n          {\r\n            label: '订购时间',\r\n            prop: 'expiredDate',\r\n            type: 'date',\r\n            format: 'yyyy-MM-dd',\r\n            valueFormat: 'yyyy-MM-dd'\r\n          },\r\n          {\r\n            label: '到期时间',\r\n            prop: 'orderTime',\r\n            type: 'date',\r\n            format: 'yyyy-MM-dd',\r\n            valueFormat: 'yyyy-MM-dd'\r\n          }\r\n        ]\r\n      },\r\n      data: [\r\n        {\r\n          orderCode: \"2020091817200001\",\r\n          productName: \"一年会员\",\r\n          orderTime: \"2020-09-18 17:20\",\r\n          endTime: \"2021-09-18 17:20\"\r\n        }\r\n      ],\r\n      personalUserDetail: {},\r\n    }\r\n  },\r\n  watch: {\r\n    personalAccountDetail: {\r\n      handler: function (newVal, oldVal) {\r\n        this.page = {\r\n          pageSize: 10,\r\n          currentPage: 1,\r\n          total: 0\r\n        };\r\n        this.orderPageQuery(this.page);\r\n        this.userDetailQuery();\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    currentChange(currentPage) {\r\n      this.page.currentPage = currentPage;\r\n    },\r\n    sizeChange(pageSize) {\r\n      this.page.pageSize = pageSize;\r\n    },\r\n    userDetailQuery() {\r\n      getUserDetail(this.personalAccountDetail.accId).then(res => {\r\n        this.personalUserDetail = res.data.data;\r\n      }, error => {\r\n        window.console.log(error);\r\n      });\r\n    },\r\n    orderPageQuery(page) {\r\n      this.loading = true;\r\n      listOrder(page.currentPage, page.pageSize, this.personalAccountDetail.userPhone, this.personalAccountDetail.userEmail).then(res => {\r\n        const data = res.data.data;\r\n        this.page.total = data.total;\r\n        this.data = data.records;\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}
{"remainingRequest":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\product\\group\\item-dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\src\\views\\contract\\product\\group\\item-dialog.vue","mtime":1618541026423},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\东方通\\source\\b_zwj\\xinhua-finance-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport transfer from \"@/components/transfer/index\";\r\nimport {selectItems} from \"@/api/contract/product/category\";\r\nimport {getItemAddedList} from \"@/api/contract/product/productitem\";\r\nexport default {\r\n  components:{transfer},\r\n  name:\"productDialog\",\r\n  props:{\r\n    dialogTitle:\"\",\r\n    prodDialog:false\r\n  },\r\n  data(){\r\n      return {\r\n        dialogForm:{\r\n          propName:'',\r\n          cateId:''\r\n        },\r\n        columns:[{\r\n          prop: \"propName\",\r\n          label:\"产品项名称\",\r\n          width:120\r\n        },{\r\n          prop: \"propCode\",\r\n          label:\"产品项编码\",\r\n          width: 90\r\n        },{\r\n          prop: \"propDeptName\",\r\n          label:\"所属部门\"\r\n        },{\r\n          prop: \"cateIdName\",\r\n          label:\"产品类型\"\r\n        },{\r\n          prop: \"prodIdName\",\r\n          label:\"发布应用\"\r\n        },{\r\n          prop: \"releaseScopeName\",\r\n          label:\"发布范围\"\r\n        },{\r\n          prop: \"itemSourseName\",\r\n          label: \"产品来源\",\r\n          width: 90\r\n        }],\r\n        excludeIds:[],\r\n        prodTypes:[],\r\n        initList:[],\r\n        prodList:[]\r\n      }\r\n  },\r\n  watch:{\r\n    'prodDialog'(){\r\n      if(this.prodDialog === true){\r\n        this.prodList=[];\r\n        this.queryList();\r\n      }\r\n    }\r\n  },\r\n  mounted(){\r\n   this.onLoad();\r\n  },\r\n  methods: {\r\n    onLoad() {\r\n      selectItems().then(res => {\r\n        this.cateIds=res.data.data\r\n      });\r\n    },\r\n    queryList(){\r\n      this.excludeIds=[];\r\n      for(let prod of this.prodList){\r\n        this.excludeIds.push(prod.id)\r\n      }\r\n      getItemAddedList(Object.assign(this.dialogForm, {exclude:this.excludeIds.join(',')})).then(res => {\r\n        const data = res.data.data;\r\n        this.initList = data;\r\n      });\r\n    },\r\n    cancelPriceDialog(){\r\n      this.$emit('cancel');\r\n    },\r\n    transferChange(rigth,left){\r\n      this.initList=left;\r\n      this.prodList=rigth;\r\n    },\r\n    savePrice(){\r\n      this.$emit('result',this.prodList);\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["item-dialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"item-dialog.vue","sourceRoot":"src/views/contract/product/group","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"dialogTitle\"\r\n    :visible.sync=\"prodDialog\"\r\n    :show-close=false\r\n    width=\"80%\"\r\n    >\r\n    <template>\r\n      <el-form :inline=\"true\" ref=\"dialogForms\" :model=\"dialogForm\" size='mini' class=\"demo-form-inline\">\r\n        <el-form-item label=\"产品项名称\">\r\n          <el-input v-model=\"dialogForm.propName\" placeholder=\"请输入产品名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"产品类型\">\r\n          <el-select ref=\"cateId\" style=\"width:100%\" :disabled=\"isView\" size=\"small\" v-model=\"dialogForm.cateId\"  filterable  placeholder=\"请选择应用分类\"> \r\n            <el-option v-for=\"(item,i) in cateIds\" :key=\"i\" :label=\"item.cateName\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"queryList\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <transfer :leftList=\"initList\" \r\n        :rightList=\"prodList\"\r\n        :columns=\"columns\" @transferChange=\"transferChange\" ></transfer>\r\n    </template>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"cancelPriceDialog\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"savePrice\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport transfer from \"@/components/transfer/index\";\r\nimport {selectItems} from \"@/api/contract/product/category\";\r\nimport {getItemAddedList} from \"@/api/contract/product/productitem\";\r\nexport default {\r\n  components:{transfer},\r\n  name:\"productDialog\",\r\n  props:{\r\n    dialogTitle:\"\",\r\n    prodDialog:false\r\n  },\r\n  data(){\r\n      return {\r\n        dialogForm:{\r\n          propName:'',\r\n          cateId:''\r\n        },\r\n        columns:[{\r\n          prop: \"propName\",\r\n          label:\"产品项名称\",\r\n          width:120\r\n        },{\r\n          prop: \"propCode\",\r\n          label:\"产品项编码\",\r\n          width: 90\r\n        },{\r\n          prop: \"propDeptName\",\r\n          label:\"所属部门\"\r\n        },{\r\n          prop: \"cateIdName\",\r\n          label:\"产品类型\"\r\n        },{\r\n          prop: \"prodIdName\",\r\n          label:\"发布应用\"\r\n        },{\r\n          prop: \"releaseScopeName\",\r\n          label:\"发布范围\"\r\n        },{\r\n          prop: \"itemSourseName\",\r\n          label: \"产品来源\",\r\n          width: 90\r\n        }],\r\n        excludeIds:[],\r\n        prodTypes:[],\r\n        initList:[],\r\n        prodList:[]\r\n      }\r\n  },\r\n  watch:{\r\n    'prodDialog'(){\r\n      if(this.prodDialog === true){\r\n        this.prodList=[];\r\n        this.queryList();\r\n      }\r\n    }\r\n  },\r\n  mounted(){\r\n   this.onLoad();\r\n  },\r\n  methods: {\r\n    onLoad() {\r\n      selectItems().then(res => {\r\n        this.cateIds=res.data.data\r\n      });\r\n    },\r\n    queryList(){\r\n      this.excludeIds=[];\r\n      for(let prod of this.prodList){\r\n        this.excludeIds.push(prod.id)\r\n      }\r\n      getItemAddedList(Object.assign(this.dialogForm, {exclude:this.excludeIds.join(',')})).then(res => {\r\n        const data = res.data.data;\r\n        this.initList = data;\r\n      });\r\n    },\r\n    cancelPriceDialog(){\r\n      this.$emit('cancel');\r\n    },\r\n    transferChange(rigth,left){\r\n      this.initList=left;\r\n      this.prodList=rigth;\r\n    },\r\n    savePrice(){\r\n      this.$emit('result',this.prodList);\r\n    }\r\n  }\r\n}\r\n</script>"]}]}